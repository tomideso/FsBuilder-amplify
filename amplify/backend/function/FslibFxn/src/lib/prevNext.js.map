{"version":3,"sources":["prevNext.ts"],"names":["FsLibrary","prototype","prevnext","nextTarget","previousTarget","contentId","loadImages","master_collection","getMasterCollection","next","document","querySelector","prev","baseId","textContent","main_content","slice","call","children","idx","findIndex","elem","nextElem","prevElem","querySelectorAll","forEach","element","style","display","innerHTML","e"],"mappings":";;AAAA;;AAEAA,qBAAUC,SAAV,CAAoBC,QAApB,GAA+B,gBAK9B;AAAA,MAJCC,UAID,QAJCA,UAID;AAAA,MAHCC,cAGD,QAHCA,cAGD;AAAA,MAFCC,SAED,QAFCA,SAED;AAAA,MADCC,UACD,QADCA,UACD;AACC,MAAMC,iBAAiB,GAAG,KAAKC,mBAAL,EAA1B;AACA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuBR,UAAvB,CAAb;AACA,MAAMS,IAAI,GAAGF,QAAQ,CAACC,aAAT,CAAuBP,cAAvB,CAAb;AACA,MAAMS,MAAM,GAAGH,QAAQ,CAACC,aAAT,CAAuBN,SAAvB,EAAkCS,WAAjD;AAEA,MAAMC,YAAY,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcV,iBAAiB,CAACW,QAAhC,CAArB;AAEA,MAAMC,GAAG,GAAGJ,YAAY,CAACK,SAAb,CACV,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACV,aAAL,CAAmBN,SAAnB,EAA8BS,WAA9B,IAA6CD,MAAvD;AAAA,GADU,CAAZ;AAIA,MAAMS,QAAQ,GAAGP,YAAY,CAACI,GAAG,GAAG,CAAP,CAA7B;AACA,MAAMI,QAAQ,GAAGR,YAAY,CAACI,GAAG,GAAG,CAAP,CAA7B;;AAEA,MAAI,CAAC,CAACG,QAAN,EAAgB;AACdA,IAAAA,QAAQ,CAACE,gBAAT,CAA0BlB,UAA1B,EAAsCmB,OAAtC,CAA8C,UAACC,OAAD,EAAY;AACxDA,MAAAA,OAAO,CAACC,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACD,KAFD;AAGAnB,IAAAA,IAAI,CAACoB,SAAL,GAAiBP,QAAQ,CAACO,SAA1B;AACAP,IAAAA,QAAQ,CAACE,gBAAT,CAA0BlB,UAA1B,EAAsCmB,OAAtC,CAA8C,UAACC,OAAD,EAAY;AACxDA,MAAAA,OAAO,CAACC,KAAR,CAAcC,OAAd,GAAwB,EAAxB;AACD,KAFD;AAGD,GARD,MAQO;AACL,QAAI;AACFnB,MAAAA,IAAI,CAACE,aAAL,CAAmB,gCAAnB,EAAqDgB,KAArD,CAA2DC,OAA3D,GACE,MADF;AAEAnB,MAAAA,IAAI,CAACE,aAAL,CAAmB,0BAAnB,EAA+CgB,KAA/C,CAAqDC,OAArD,GAA+D,OAA/D;AACD,KAJD,CAIE,OAAOE,CAAP,EAAU,CAAE;AACf;;AAED,MAAI,CAAC,CAACP,QAAN,EAAgB;AACdA,IAAAA,QAAQ,CAACC,gBAAT,CAA0BlB,UAA1B,EAAsCmB,OAAtC,CAA8C,UAACC,OAAD,EAAY;AACxDA,MAAAA,OAAO,CAACC,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACD,KAFD;AAGAhB,IAAAA,IAAI,CAACiB,SAAL,GAAiBN,QAAQ,CAACM,SAA1B;AACAN,IAAAA,QAAQ,CAACC,gBAAT,CAA0BlB,UAA1B,EAAsCmB,OAAtC,CAA8C,UAACC,OAAD,EAAY;AACxDA,MAAAA,OAAO,CAACC,KAAR,CAAcC,OAAd,GAAwB,EAAxB;AACD,KAFD;AAGD,GARD,MAQO;AACL,QAAI;AACFhB,MAAAA,IAAI,CAACD,aAAL,CAAmB,gCAAnB,EAAqDgB,KAArD,CAA2DC,OAA3D,GACE,MADF;AAEAhB,MAAAA,IAAI,CAACD,aAAL,CAAmB,0BAAnB,EAA+CgB,KAA/C,CAAqDC,OAArD,GAA+D,OAA/D;AACD,KAJD,CAIE,OAAOE,CAAP,EAAU,CAAE;AACf;AACF,CAnDD","file":"prevNext.js","sourcesContent":["import { FsLibrary } from \"./fsLibrary\";\n\nFsLibrary.prototype.prevnext = function ({\n  nextTarget,\n  previousTarget,\n  contentId,\n  loadImages,\n}) {\n  const master_collection = this.getMasterCollection();\n  const next = document.querySelector(nextTarget);\n  const prev = document.querySelector(previousTarget);\n  const baseId = document.querySelector(contentId).textContent;\n\n  const main_content = [].slice.call(master_collection.children);\n\n  const idx = main_content.findIndex(\n    (elem) => elem.querySelector(contentId).textContent == baseId\n  );\n\n  const nextElem = main_content[idx + 1];\n  const prevElem = main_content[idx - 1];\n\n  if (!!nextElem) {\n    nextElem.querySelectorAll(loadImages).forEach((element) => {\n      element.style.display = \"block\";\n    });\n    next.innerHTML = nextElem.innerHTML;\n    nextElem.querySelectorAll(loadImages).forEach((element) => {\n      element.style.display = \"\";\n    });\n  } else {\n    try {\n      next.querySelector(\":not(.prev-next-empty-message)\").style.display =\n        \"none\";\n      next.querySelector(\".prev-next-empty-message\").style.display = \"block\";\n    } catch (e) {}\n  }\n\n  if (!!prevElem) {\n    prevElem.querySelectorAll(loadImages).forEach((element) => {\n      element.style.display = \"block\";\n    });\n    prev.innerHTML = prevElem.innerHTML;\n    prevElem.querySelectorAll(loadImages).forEach((element) => {\n      element.style.display = \"\";\n    });\n  } else {\n    try {\n      prev.querySelector(\":not(.prev-next-empty-message)\").style.display =\n        \"none\";\n      prev.querySelector(\".prev-next-empty-message\").style.display = \"block\";\n    } catch (e) {}\n  }\n};\n"]}