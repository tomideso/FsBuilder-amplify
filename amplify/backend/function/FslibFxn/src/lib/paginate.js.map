{"version":3,"sources":["paginate.ts"],"names":["FsLibrary","paginate","pages","page","str","active","pageCutLow","pageCutHigh","p","setStr","fs_page","document","querySelector","innerHTML","setTimeout"],"mappings":"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","file":"paginate.js","sourcesContent":["import { FsLibrary } from \"./fsLibrary\";\n\n(<any>FsLibrary).paginate = function (pages, page) {\n  let str = \"<ul>\";\n  let active;\n  let pageCutLow = page - 1;\n  let pageCutHigh = page + 1;\n  // Show the Previous button only if you are on a page other than the first\n  if (page > 1) {\n    str +=\n      '<li class=\"fs-pagination-page fs-pagination-prev fs-pagination-inactive\"><a onclick=\"FsLibrary.paginate(' +\n      pages +\n      \",\" +\n      (page - 1) +\n      ')\">Previous</a></li>';\n  }\n  // Show all the pagination elements if there are less than 6 pages total\n  if (pages < 6) {\n    for (let p = 1; p <= pages; p++) {\n      active = page == p ? \"fs-pagination-active\" : \"fs-pagination-inactive\";\n      str +=\n        '<li class=\"' +\n        active +\n        '\"><a onclick=\"FsLibrary.paginate(' +\n        pages +\n        \", \" +\n        p +\n        ')\">' +\n        p +\n        \"</a></li>\";\n    }\n  }\n  // Use \"...\" to collapse pages outside of a certain range\n  else {\n    // Show the very first page followed by a \"...\" at the beginning of the\n    // pagination section (after the Previous button)\n    if (page > 2) {\n      str += `<li class=\"fs-pagination-inactive fs-pagination-page\"><a onclick=\"FsLibrary.paginate(${pages}, 1)\">1</a></li>`;\n      if (page > 3) {\n        str +=\n          `<li class=\"fs-pagination-dots\"><a onclick=\"FsLibrary.paginate(${pages},` +\n          (page - 2) +\n          ')\">...</a></li>';\n      }\n    }\n    // Determine how many pages to show after the current page index\n    if (page === 1) {\n      pageCutHigh += 2;\n    } else if (page === 2) {\n      pageCutHigh += 1;\n    }\n    // Determine how many pages to show before the current page index\n    if (page === pages) {\n      pageCutLow -= 2;\n    } else if (page === pages - 1) {\n      pageCutLow -= 1;\n    }\n    // Output the indexes for pages that fall inside the range of pageCutLow\n    // and pageCutHigh\n    for (let p = pageCutLow; p <= pageCutHigh; p++) {\n      if (p === 0) {\n        p += 1;\n      }\n      if (p > pages) {\n        continue;\n      }\n      active = page == p ? \"fs-pagination-active\" : \"fs-pagination-inactive\";\n      str +=\n        '<li class=\"fs-pagination-page ' +\n        active +\n        '\"><a onclick=\"FsLibrary.paginate(' +\n        pages +\n        \", \" +\n        p +\n        ')\">' +\n        p +\n        \"</a></li>\";\n    }\n    // Show the very last page preceded by a \"...\" at the end of the pagination\n    // section (before the Next button)\n    if (page < pages - 1) {\n      if (page < pages - 2) {\n        str +=\n          '<li class=\"fs-pagination-dots\"><a onclick=\"FsLibrary.paginate(' +\n          pages +\n          \",\" +\n          (page + 2) +\n          ')\">...</a></li>';\n      }\n      str +=\n        `<li class=\"fs-pagination-page fs-pagination-inactive\"><a onclick=\"FsLibrary.paginate(${pages}, ${pages})\">` +\n        pages +\n        \"</a></li>\";\n    }\n  }\n  // Show the Next button only if you are on a page other than the last\n  if (page < pages) {\n    str +=\n      `<li class=\"fs-pagination-page fs-pagination-next fs-pagination-inactive\"><a onclick=\"FsLibrary.paginate(${pages}, ` +\n      (page + 1) +\n      ')\">Next</a></li>';\n  }\n  str += \"</ul>\";\n\n  setStr(str);\n  return str;\n};\n\nfunction setStr(str) {\n  const fs_page = document.querySelector(\".fs-pagination\");\n\n  if (fs_page) {\n    fs_page.innerHTML = str;\n    return;\n  }\n\n  setTimeout(() => {\n    setStr(str);\n  }, 500);\n}\n"]}