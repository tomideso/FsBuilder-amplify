{"version":3,"sources":["filter/helper.ts"],"names":["removeMsg","message","msg","document","querySelector","outerHTML","note","createElement","style","padding","className","textContent","shouldFilter","filter","filterText","index","isEmpty","trim","tag","query","includes","length","preventParentFormSubmission","elem","formElem","preventFormSubmission","onsubmit","evt","stopPropagation","preventDefault","resetAllFilter","triggerSelectors","activeClass","map","selector","Array","from","querySelectorAll","forEach","i","classList","remove","tagName","type","value","checked","Object","val","idx"],"mappings":";;;;;;;;AAAA;;AAEO,IAAMA,SAAS,GAAG,SAAZA,SAAY,GAAgC;AAAA,MAA/BC,OAA+B,uEAArB,iBAAqB;AACvD,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAZ;;AACA,MAAIF,GAAJ,EAAS;AACPA,IAAAA,GAAG,CAACG,SAAJ,GAAgB,EAAhB;AACD;;AAED,MAAMC,IAAI,GAAGH,QAAQ,CAACI,aAAT,CAAuB,KAAvB,CAAb;AACAD,EAAAA,IAAI,CAACE,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACAH,EAAAA,IAAI,CAACI,SAAL,GAAiB,gBAAjB;AACAJ,EAAAA,IAAI,CAACK,WAAL,GAAmB,iBAAnB;AACA,SAAOL,IAAP;AACD,CAXM;;;;AAaD,SAAAM,YAAA,CAAuBC,MAAvB,EAA+BC,UAA/B,EAA2CC,KAA3C,EAAgD;AACpD,MAAMC,OAAO,GAAG,CAACF,UAAU,CAACG,IAAX,EAAjB;AACA,MAAMC,GAAG,GAAGL,MAAM,CAACE,KAAD,CAAN,CAAcI,KAA1B;;AAEA,MAAIH,OAAO,IAAIE,GAAG,CAACE,QAAJ,CAAaN,UAAb,CAAf,EAAyC;AACvC,WAAO,KAAP;AACD;;AAED,MAAIE,OAAO,IAAI,CAACE,GAAG,CAACG,MAApB,EAA4B;AAC1B,WAAO,KAAP;AACD;;AACD,SAAO,IAAP;AACD;;AAEM,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAACC,IAAD,EAAS;AAClD,MAAMC,QAAQ,GAAG,yBAAWD,IAAX,EAAiB,MAAjB,CAAjB;;AACA,MAAIC,QAAJ,EAAc;AACZC,IAAAA,qBAAqB,CAACD,QAAD,CAArB;AACD;AACF,CALM;;;;AAMA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACD,QAAD,EAAa;AAChDA,EAAAA,QAAQ,CAACE,QAAT,GAAoB,UAACC,GAAD,EAAQ;AAC1BA,IAAAA,GAAG,CAACC,eAAJ;AACAD,IAAAA,GAAG,CAACE,cAAJ;AACA,WAAO,KAAP;AACD,GAJD;AAKD,CANM;;;;AAQA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAA8C;AAAA,MAA3CjB,MAA2C,QAA3CA,MAA2C;AAAA,MAAnCkB,gBAAmC,QAAnCA,gBAAmC;AAAA,MAAjBC,WAAiB,QAAjBA,WAAiB;AAC1ED,EAAAA,gBAAgB,CAACE,GAAjB,CAAqB,UAACC,QAAD,EAAa;AAChCC,IAAAA,KAAK,CAACC,IAAN,CAAWjC,QAAQ,CAACkC,gBAAT,CAA0BH,QAA1B,CAAX,EAAgDI,OAAhD,CAAwD,UAACf,IAAD,EAAOgB,CAAP,EAAY;AAClEhB,MAAAA,IAAI,CAACiB,SAAL,CAAeC,MAAf,CAAsBT,WAAtB;;AAEA,UAAIT,IAAI,CAACmB,OAAL,IAAgB,OAApB,EAA6B;AAC3B,gBAAQnB,IAAI,CAACoB,IAAb;AACE,eAAK,MAAL;AACEpB,YAAAA,IAAI,CAACqB,KAAL,GAAa,EAAb;AACA;;AACF;AACErB,YAAAA,IAAI,CAACsB,OAAL,GAAe,KAAf;AACA;AANJ;AAQD;AACF,KAbD;AAcD,GAfD;AAiBAC,EAAAA,MAAM,CAAC,QAAD,CAAN,CAAiBjC,MAAjB,EAAyByB,OAAzB,CAAiC,UAACS,GAAD,EAAMC,GAAN,EAAa;AAC5CnC,IAAAA,MAAM,CAACmC,GAAD,CAAN,CAAY7B,KAAZ,GAAoB,EAApB;AACD,GAFD;AAGA,SAAON,MAAP;AACD,CAtBM","file":"helper.js","sourcesContent":["import { getClosest } from \"../utility\";\n\nexport const removeMsg = (message = \"No match found.\") => {\n  const msg = document.querySelector(\".fslib-no-match\");\n  if (msg) {\n    msg.outerHTML = \"\";\n  }\n\n  const note = document.createElement(\"div\");\n  note.style.padding = \"15px\";\n  note.className = \"fslib-no-match\";\n  note.textContent = \"No match found.\";\n  return note;\n};\n\nexport function shouldFilter(filter, filterText, index) {\n  const isEmpty = !filterText.trim();\n  const tag = filter[index].query;\n\n  if (isEmpty && tag.includes(filterText)) {\n    return false;\n  }\n\n  if (isEmpty && !tag.length) {\n    return false;\n  }\n  return true;\n}\n\nexport const preventParentFormSubmission = (elem) => {\n  const formElem = getClosest(elem, \"form\");\n  if (formElem) {\n    preventFormSubmission(formElem);\n  }\n};\nexport const preventFormSubmission = (formElem) => {\n  formElem.onsubmit = (evt) => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    return false;\n  };\n};\n\nexport const resetAllFilter = ({ filter, triggerSelectors, activeClass }) => {\n  triggerSelectors.map((selector) => {\n    Array.from(document.querySelectorAll(selector)).forEach((elem, i) => {\n      elem.classList.remove(activeClass);\n\n      if (elem.tagName == \"INPUT\") {\n        switch (elem.type) {\n          case \"text\":\n            elem.value = \"\";\n            break;\n          default:\n            elem.checked = false;\n            break;\n        }\n      }\n    });\n  });\n\n  Object[\"values\"](filter).forEach((val, idx) => {\n    filter[idx].query = [];\n  });\n  return filter;\n};\n"]}