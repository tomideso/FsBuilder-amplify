{"version":3,"sources":["slider.ts"],"names":["FsLibrary","prototype","slider","sliderComponent","resetIx","cms","getMasterCollection","testimonials","slice","call","querySelectorAll","slideContainer","document","querySelector","slideHolder","slideNav","Webflow","window","push","___toggledInit___","templateSlide","children","cloneNode","templateSlideNav","classList","remove","templateDot","outerHTML","innerHTML","done","map","elem","idx","arr","newSlide","Promise","resolve","all","then","r","ready","reinitializeWebflow"],"mappings":";;AAAA;;AAEAA,qBAAUC,SAAV,CAAoBC,MAApB,GAA6B,gBAG5B;AAAA;;AAAA,MAFGC,eAEH,QAFGA,eAEH;AAAA,0BADGC,OACH;AAAA,MADGA,OACH,6BADW,IACX;AAGC,MAAMC,GAAG,GAAG,KAAKC,mBAAL,EAAZ;AACA,MAAMC,YAAY,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,GAAG,CAACK,gBAAJ,CAAqB,eAArB,CAAd,CAArB;AAEA,MAAMC,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuBV,eAAvB,CAAvB;AAEA,MAAMW,WAAW,GAAGH,cAAc,CAACE,aAAf,CAA6B,gBAA7B,CAApB;AACA,MAAME,QAAQ,GAAGJ,cAAc,CAACE,aAAf,CAA6B,eAA7B,CAAjB;AAIA,MAAMG,OAAO,GAASC,MAAO,CAACD,OAAR,IAAmB,EAAzC;AACAA,EAAAA,OAAO,CAACE,IAAR,CAAa,YAAI;AACf,QAASD,MAAO,CAACE,iBAAjB,EAAmC;AACjC;AACD;;AACD,QAAMC,aAAa,GAAGN,WAAW,CAACO,QAAZ,CAAqB,CAArB,EAAwBC,SAAxB,CAAkC,IAAlC,CAAtB;AACA,QAAMC,gBAAgB,GAAGR,QAAQ,CAACM,QAAT,CAAkB,CAAlB,CAAzB;AAEAE,IAAAA,gBAAgB,CAACC,SAAjB,CAA2BC,MAA3B,CAAkC,UAAlC;AAGA,QAAMC,WAAW,GAAGH,gBAAgB,CAACI,SAArC;AAEAb,IAAAA,WAAW,CAACc,SAAZ,GAAsB,EAAtB;AACAb,IAAAA,QAAQ,CAACa,SAAT,GAAmB,EAAnB;AAGA,QAAMC,IAAI,GAAEtB,YAAY,CAACuB,GAAb,CAAiB,UAACC,IAAD,EAAMC,GAAN,EAAUC,GAAV,EAAiB;AAC1C,UAAMC,QAAQ,GAAOd,aAAa,CAACE,SAAd,CAAwB,IAAxB,CAArB;AACAY,MAAAA,QAAQ,CAACN,SAAT,GAAoBG,IAAI,CAACJ,SAAzB;AAEAb,MAAAA,WAAW,CAACc,SAAZ,IAA8BM,QAAS,CAACP,SAAxC;AACAZ,MAAAA,QAAQ,CAACa,SAAT,IAAqBF,WAArB;AAEA,aAAOS,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACH,KARW,CAAZ;AAUAD,IAAAA,OAAO,CAACE,GAAR,CAAYR,IAAZ,EAAkBS,IAAlB,CAAuB,UAAAC,CAAC,EAAE;AACxB5B,MAAAA,cAAc,CAACgB,SAAf,IAA0B,EAA1B;AACMV,MAAAA,MAAO,CAACE,iBAAR,GAA0B,IAA1B;AACAF,MAAAA,MAAO,CAACD,OAAR,CAAgBwB,KAAhB;AACN,OAAC,CAACpC,OAAF,IAAc,KAAI,CAACqC,mBAAL,EAAd;AAED,KAND;AAQD,GAlCD;AAqCD,CAtDD","file":"slider.js","sourcesContent":["import { FsLibrary } from \"./fsLibrary\";\n\nFsLibrary.prototype.slider = function ({\n    sliderComponent,\n    resetIx=true\n}) {\n\n\n  const cms = this.getMasterCollection();\n  const testimonials = [].slice.call(cms.querySelectorAll(\".w-dyn-item>*\"));\n\n  const slideContainer = document.querySelector(sliderComponent);\n\n  const slideHolder = slideContainer.querySelector(\".w-slider-mask\");\n  const slideNav = slideContainer.querySelector(\".w-slider-nav\");\n\n\n\n  const Webflow = (<any>window).Webflow || [];\n  Webflow.push(()=> {\n    if((<any>window).___toggledInit___){\n      return;\n    }\n    const templateSlide = slideHolder.children[0].cloneNode(true);\n    const templateSlideNav = slideNav.children[0];\n  \n    templateSlideNav.classList.remove('w-active')\n\n    \n    const templateDot = templateSlideNav.outerHTML;\n\n    slideHolder.innerHTML=\"\";\n    slideNav.innerHTML=\"\";\n\n    \n    const done =testimonials.map((elem,idx,arr) => {\n        const newSlide:any = templateSlide.cloneNode(true);\n        newSlide.innerHTML =elem.outerHTML;\n\n        slideHolder.innerHTML +=(<any>newSlide).outerHTML;\n        slideNav.innerHTML +=templateDot;\n\n        return Promise.resolve(true);\n    });\n\n    Promise.all(done).then(r=>{\n      slideContainer.outerHTML+=\"\";\n      (<any>window).___toggledInit___=true;\n      (<any>window).Webflow.ready();\n      !!resetIx &&  this.reinitializeWebflow();\n\n    })\n\n  });\n\n\n};\n\n\n"]}